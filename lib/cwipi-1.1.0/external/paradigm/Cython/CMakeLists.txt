if (MPI_C_COMPILER)
  set(CMAKE_C_COMPILER ${MPI_C_COMPILER})
endif()

if (MPI_CXX_COMPILER)
  set(CMAKE_CXX_COMPILER ${MPI_CXX_COMPILER})
endif()

if (MPI_Fortran_COMPILER)
  set(CMAKE_Fortran_COMPILER ${MPI_Fortran_COMPILER})
endif(MPI_Fortran_COMPILER)


if (PDM_ENABLE_LONG_G_NUM)
   set(PYX_NPY_G_NUM NPY.int64_t)
   set(PYX_NPY_G_NUM_DTYPE NPY.int64)
   set(PDM_G_NUM_NPY_INT NPY.NPY_INT64)
   set(PYX_G_NUM long)
   set(PYX_L_NUM int)
else ()
   set(PYX_NPY_G_NUM NPY.int32_t)
   set(PYX_NPY_G_NUM_DTYPE NPY.int32)
   set(PDM_G_NUM_NPY_INT NPY.NPY_INT32)
   set(PYX_G_NUM int)
   set(PYX_L_NUM int)
endif ()

if (PDM_HAVE_PARMETIS)
  set(PYX_PDM_HAS_PARMETIS True)
else ()
  set(PYX_PDM_HAS_PARMETIS False)
endif ()
if (PDM_HAVE_PTSCOTCH)
  set(PYX_PDM_HAS_PTSCOTCH True)
else ()
  set(PYX_PDM_HAS_PTSCOTCH False)
endif ()

if (PDM_ENABLE_EXTENSION_PDMA)
  set(PYX_PDM_HAS_PDMA True)
else ()
  set(PYX_PDM_HAS_PDMA False)
  set(COMMENT_NOT_PDMA "\#")
endif()

set (include_dirs "")
list (APPEND include_dirs ${Mpi4Py_INCLUDE_DIR})
list (APPEND include_dirs ${Python_NumPy_INCLUDE_DIRS})
list (APPEND include_dirs ${CMAKE_CURRENT_BINARY_DIR})
list (APPEND include_dirs ${CMAKE_BINARY_DIR})
if (PDM_ENABLE_EXTENSION_PDMA)
  list (APPEND include_dirs ${PDM_SOURCE_DIR}/extensions/paradigma/src/mesh)
  list (APPEND include_dirs ${PDM_SOURCE_DIR}/extensions/paradigma/src/plugins)
  list (APPEND include_dirs ${PDM_SOURCE_DIR}/extensions/paradigma/src/plugins/coarse_mesh)
  list (APPEND include_dirs ${PDM_SOURCE_DIR}/extensions/paradigma/src/plugins/multicoloring)
  list (APPEND include_dirs ${PDM_SOURCE_DIR}/extensions/paradigma/src/plugins/renum)
endif()

add_subdirectory(Pypdm)
